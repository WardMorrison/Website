<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Top American Colleges Map</title>
  <link rel="icon" type="image/png" href="favicon.png" />

  <!-- MapLibre GL JS CSS -->
  <link href="https://unpkg.com/maplibre-gl@2.1.9/dist/maplibre-gl.css" rel="stylesheet" />

  <!-- noUiSlider CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.css" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" />

  <!-- Leaflet GestureHandling Plugin (optional) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-gesture-handling/dist/leaflet-gesture-handling.min.css" />

  <!-- Custom Styles -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Top Bar -->
  <div id="topBar" class="expanded">
    <input type="text" id="searchBar" placeholder="Search colleges...">
    <div id="filterButtons">
      <button id="filterTuition" class="filterBtn" title="Filter by Tuition">
        <i class="fas fa-dollar-sign"></i>
      </button>
      <button id="filterSize" class="filterBtn" title="Filter by Size">
        <i class="fas fa-users"></i>
      </button>
      <button id="filterAcceptance" class="filterBtn" title="Filter by Acceptance Rate">
        <i class="fas fa-percent"></i>
      </button>
      <button id="filterSAT" class="filterBtn" title="Filter by Average SAT Score">
        <i class="fas fa-graduation-cap"></i>
      </button>
    </div>
  </div>

  <!-- Select College Type Button (new) -->
  <button id="collegeTypeBtn" class="filterBtn" title="Select College Type">
    <i class="fas fa-building-columns"></i>
  </button>
  
  <!-- Filter Panels -->
  <div id="filterPanelTuition" class="filterPanel">
    <button class="closeFilter">&times;</button>
    <h3>Filter by Tuition</h3>
    <div id="tuitionSlider" class="sliderContainer"></div>
    <div id="tuitionRange">Tuition: $0 - $80,000</div>
  </div>
  <div id="filterPanelSize" class="filterPanel">
    <button class="closeFilter">&times;</button>
    <h3>Filter by Size</h3>
    <div id="sizeSlider" class="sliderContainer"></div>
    <div id="sizeRange">Size: 0k - 60k students</div>
  </div>
  <div id="filterPanelAcceptance" class="filterPanel">
    <button class="closeFilter">&times;</button>
    <h3>Filter by Acceptance Rate</h3>
    <div id="acceptanceSlider" class="sliderContainer"></div>
    <div id="acceptanceRange">Acceptance Rate: 0% - 100%</div>
  </div>
  <div id="filterPanelSAT" class="filterPanel">
    <button class="closeFilter">&times;</button>
    <h3>Filter by Average SAT Score</h3>
    <div id="satSlider" class="sliderContainer"></div>
    <div id="satRange">SAT: 400 - 1600</div>
  </div>

  <!-- Map -->
  <div id="map"></div>

  <!-- Sidebar -->
  <div id="sidebar">
    <button id="closeSidebar">&times;</button>
    <div id="sidebarContent">
      <div id="collegeSlideshow" class="slideshow"></div>
      <h2 id="collegeName"></h2>
      <p id="collegeLocation"></p>

      <div class="ratings">
        <div><strong>Quality of Life:</strong> <span id="qolRating" class="stars"></span></div>
        <div><strong>Academics:</strong> <span id="academicRating" class="stars"></span></div>
        <div><strong>Social Life:</strong> <span id="socialRating" class="stars"></span></div>
      </div>

      <div class="stats">
        <p><strong>Type:</strong> <span id="collegeType"></span></p>
        <p><strong>Size:</strong> <span id="collegeSize"></span></p>
        <p><strong>Average Tuition:</strong> <span id="collegeTuition"></span></p>
        <p><strong>Average SAT Score:</strong> <span id="collegeSAT"></span></p>
        <p><strong>Location Details:</strong> <span id="collegeLocationDetails"></span></p>
      </div>

      <details class="collapsible" open>
        <summary>Description</summary>
        <p id="collegeDescription"></p>
      </details>
      <details class="collapsible">
        <summary>Sports</summary>
        <p id="collegeSports"></p>
      </details>
      <details class="collapsible">
        <summary>Academics</summary>
        <p id="collegeAcademics"></p>
      </details>
      <details class="collapsible">
        <summary>Similar Colleges</summary>
        <ul id="similarColleges"></ul>
      </details>

      <button id="commonDataSetBtn" class="dataBtn">View Common Data Set</button>
    </div>
    <a id="collegeWebsite" href="#" target="_blank">Visit Website</a>
  </div>

  <!-- College Type Popup -->
  <div id="collegeTypePopup">
    <div id="collegeTypePopupContent">
      <h2>Select College Type</h2>
      <p>What type of college are you looking for?</p>
      <div class="radio-group">
        <label><input type="radio" name="collegeType" value="regular" checked> Regular Colleges</label>
        <label><input type="radio" name="collegeType" value="community"> Community Colleges</label>
        <label><input type="radio" name="collegeType" value="trade"> Trade Schools</label>
      </div>
      <button id="collegeTypeSubmit" class="popup-btn">Submit</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://unpkg.com/maplibre-gl@2.1.9/dist/maplibre-gl.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
